<!DOCTPYE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Local Save Trial</title>
		<style>
		
		table {
		  border-collapse: collapse;
		  width: 100%;
		  border: 1px solid #ddd;
		}

			.block {
			  display: block;
			  width: 100%;
			  border: none;
			  background-color: #04AA6D;
			  color: white;
			  padding: 14px 28px;
			  font-size: 16px;
			  cursor: pointer;
			  text-align: center;
			}

			.block:hover {
			  background-color: #ddd;
			  color: black;
			}
		</style>

	</head>

<body>
	<table id="SeatTable" border="2">
		<tr>
			<td><input id="Seat1" type="button" value="Seat 1A" onclick="seatAction(this.value);" class="block"/></td>
		</tr>
		<tr>
			<td><input id="Seat1" type="button" value="Seat 2A" onclick="seatAction(this.value);" class="block"/></td>
		</tr>
	</table>
	<br><br>
	
	
	<table id="CatTable" border="2" style.display="none">
		<td>
			<tr><input id="Seat1" type="button" value="CategoryA" onclick="catAction(this.value);" class="block"/></tr>
			<tr><input id="Seat1" type="button" value="CategoryB" onclick="catAction(this.value);" class="block"/></tr>

			
		</td>
	</table>
	<br><br>
	
	
	<table id="EventTable" border="1">
		<td>
			<tr><input id="clickMe" type="button" value="Event 1" onclick="eventAction(this.value);" class="block"/></tr>
			<tr><input id="clickMe" type="button" value="Event 2" onclick="eventAction(this.value);" class="block"/></tr>
			<tr><input id="clickMe" type="button" value="Event 3" onclick="eventAction(this.value);" class="block"/></tr>
			<tr><input id="clickMe" type="button" value="Event 4" onclick="eventAction(this.value);" class="block"/></tr>
			<tr><input id="clickMe" type="button" value="Event 5" onclick="eventAction(this.value);" class="block"/></tr>
			
		</td>
	</table>
	
	<table id="downloadLink" border="1" >
		<tr>
			<td>
				<br>
				<a id="a1" download="Test.txt"> Download it! </a>
			</td>
		</tr>	
	</table>
	<p id="demo"></p>
			
	<script>

		
		
		var dataOut="";
		var lineTime;
		var lineSeat;
		var lineCat;
		var lineEvent;
		
	
		
		<!-- window.onload = function(){   -->
		<!-- SeatTable.style.dispay = "none"; -->
		<!-- SeatTable.visibility = "hidden"; -->
		
		<!-- CatTable.style.display="none"; -->
		<!-- } -->
		
		function seatAction(buttonClicked) {
		
		var today = new Date();
		var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();
		var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
		
		
		lineDate = ""
		lineTime= "";
		lineSeat= ""
		lineCat= ""
		lineEvent= ""
		
	
	
		
		
		lineDate=date;
		lineTime=time;		
		lineSeat=buttonClicked;
		console.log("Registed Seat Click: " +lineSeat + "@" + lineTime);
		}
		
		function catAction(buttonClicked) {
		
		
		lineCat=buttonClicked
		console.log("Category Selected: " +lineSeat + "@" + lineTime + "-" + lineCat);
		
		}
		
		function eventAction(buttonClicked) {
		
		lineEvent=buttonClicked
		console.log("Category Selected: " +lineSeat + " @ " + lineTime + " - " + lineCat + " -> " + lineEvent)
		
		dataOut=dataOut + lineDate + "," + lineTime + "," + lineSeat + "," + lineCat + "," + lineEvent + "\n"
		
		console.log("dataOut : \n" +dataOut)
		blob1=new Blob([ dataOut ], {type: " text/plain" })
		a1.href = URL.createObjectURL(blob1)
		
		}
		
		
		const a1 = document.getElementById("a1")
		var blob1 = new Blob([], {type: " text/plain" })
		a1.href = URL.createObjectURL(blob1)
	</script>
</body>

</html>
		
	
